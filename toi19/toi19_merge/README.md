<!-- @codegen_problem begin -->
# TOI19 merge - р╕Ьр╕кр╕▓р╕Щ (Merge)

[ЁЯПа р╕гр╕зр╕бр╣Ар╕Йр╕ер╕в TOI19](../)

[ЁЯТО problem.pdf](./toi19_merge.pdf)

[ЁЯОЙ solution.cpp](./toi19_merge.cpp)

<img width="700" src="https://github.com/krist7599555/toi/assets/19445033/23655709-695a-4a82-8d02-c39f97ccf9ac" />
<!-- @codegen_problem end -->

Binary Search р╣Вр╕Фр╕вр╣Ар╕Кр╣Зр╕Др╕Др╕│р╕Хр╕нр╕Ър╣Бр╕Хр╣Ир╕ер╕░р╕Др╕гр╕▒р╣Йр╕Зр╕Фр╣Йр╕зр╕в Binary Search р╕Ър╕Щ Quicksum

р╕Вр╣Йр╕нр╕Щр╕╡р╣Йр╕Ир╕░р╕бр╕╡ р╕Ир╕░р╣Гр╕Кр╣Й `X[]` р╣Бр╕ер╕░ `Y[]` р╕бр╕▓р╣Бр╕ер╣Йр╕зр╕лр╕▓р╕ер╕│р╕Фр╕▒р╕Ър╕Чр╕╡р╣И `n-th`

р╕Цр╣Йр╕▓р╣Вр╕Ир╕Чр╕вр╣Мр╕Цр╕▓р╕бр╣Бр╕Др╣Ир╕зр╣Ир╕▓ р╣Гр╕лр╣Й `int arr[]` р╕бр╕▓р╕лр╕▓р╕зр╣Ир╕▓ idx р╕Чр╕╡р╣Ир╣Ар╕Чр╣Ир╕▓р╣Др╕лр╕гр╣Ир╕Чр╕╡р╣Ир╕бр╕╡р╕Ьр╕ер╕гр╕зр╕б `arr[1..idx] < val` р╕Бр╣Зр╕лр╕▓р╣Др╕Фр╣Йр╣Вр╕Фр╕вр╕Бр╕▓р╕гр╕Чр╕│ quicksum р╕Бр╣Ир╕нр╕Щ 1 р╕гр╕нр╕Ъ р╣Бр╕ер╣Йр╕з binary search р╕Ър╕Щр╕Щр╕▒р╣Йр╕Щ

р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Вр╕Ир╕Чр╕вр╣Мр╕Др╕гр╕▓р╕зр╕Щр╕╡р╣Йр╕Бр╣Зр╣Бр╕Др╣Ир╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Ир╕▓р╕Бр╕Бр╕▓р╕гр╣Гр╕Кр╣Й `idx` р╣Ар╕Ыр╣Зр╕Щр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Др╣Ир╕▓ `position` р╕Чр╕╡р╣Ир╣Гр╕лр╣Йр╕бр╕▓р╕Хр╕нр╕Щр╣Бр╕гр╕Бр╣Бр╕Чр╕Щ

р╣Бр╕Хр╣Ир╕Вр╣Йр╕нр╕Щр╕╡р╣Йр╕кр╕бр╕Бр╕▓р╕гр╕вр╕▓р╕Бр╕Вр╕╢р╣Йр╕Щр╣Др╕Ыр╕нр╕╡р╕Бр╣Ар╕Юр╕гр╕▓р╕░ `Y[].position` р╕Ир╕░р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Др╕Ыр╕Хр╕▓р╕бр╣Бр╕Хр╣Ир╕ер╕░р╕Др╕│р╕Цр╕▓р╕бр╕Бр╕ер╕▓р╕вр╣Ар╕Ыр╣Зр╕Щ `Y[].position * alpha + beta` р╣Бр╕Хр╣Ир╕кр╕бр╕Бр╕▓р╕г `y = ax + b` р╣Ар╕Ыр╣Зр╕Щр╕кр╕бр╕Бр╕▓р╕г linear р╣Ар╕Юр╕гр╕▓р╕░р╕Зр╕▒р╣Йр╕Щр╕Др╕зр╕▓р╕бр╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Гр╕Щр╕Бр╕▓р╕г binary search р╕Бр╣Зр╕вр╕▒р╕Зр╣Гр╕Кр╣Йр╣Др╕Фр╣Йр╕нр╕вр╕╣р╣Ир╕Фр╕╡ р╣Бр╕ер╕░р╕лр╕▓ inverse р╣Др╕Фр╣Йр╕Фр╣Йр╕зр╕в `y = ax + b р╕Бр╕ер╕▒р╕Ър╕кр╕бр╕Бр╕▓р╕г x = (y - b) / a`

р╕кр╕гр╕╕р╕Ыр╣Ар╕Ыр╣Зр╕Щр╕кр╕бр╕Бр╕▓р╕гр╕кр╕▒р╣Йр╕Щр╣Жр╕Др╕╖р╕н

```cpp
binary_search([-infinity, infinity]) { |val|
  int count_x = binary_search(X[], val)
  int count_y = binary_search(Y[], (val / beta) - alpha)
  check(count_x + count_y < n_th)?
}
```
