ขอสอบแขงขันคอมพิวเตอรโอลิมปกระดับชาติ ครั้งที่ 15
ณ มหาวิทยาลัยบูรพา
ขอสอบขอที่ 3 จากทั้งหมด 3 ขอ
วันพุธที่ 5 มิถุนายน 2562 เวลา 9.00-12.00 น.
คายกลพิฆาตแมลงวัน (Fly)
งานเลี้ยงแหงหนึ่งมีขาวหลามหนองมนและอาหารทะเลที่ขึ้นชื่อของจังหวัดชลบุรีเปนจํานวนมาก
เหลาฝูงแมลงวันทราบวามีงานเลี้ยงดังกลาวจากหนวยสอดแนมแมลงวัน หัวหนาแมลงวันจึงพาสมุนแมลงวัน
ทั้งหมดมาจูโจมเพื่อกินอาหารดังกลาว แนนอนวาผูจัดงานเลี้ยงก็ทราบดีวาแมลงวันจะจูโจม จึงไดสรางคายกล
พิฆาตแมลงวันขึ้นมา และติดตั้งคายกลดังกลาวไว ณ ตําแหนงที่แมลงวันตองบินผานเพื่อเขาถึงอาหาร
คายกลพิฆาตแมลงวัน มีลักษณะเปนตารางกว าง (คอลัมน) 𝐶𝐶 หนวย และลึก (แถว) 𝑅𝑅 หนวย ถา
กองทัพแมลงวันจะบินเขาสูงานเลี้ยง ตองเขาคายกลพิฆาตแมลงวันทางดานลางสุดบินผานคายกลไปยังดาน
บนสุดเพื่อออกไปหาอาหารตามที่ตองการ คายกลพิฆาตแมลงวันนี้มีการติดตั้งแสงสะกดแมลงวันไว แสงสะกด
แมลงวันนี้สองจากดานบนของคายกลลงมาดานลางของคายกลตามแนวลึก และมีการติดตั้งลําแสงนี้ไวในทุก ๆ
ระยะ 1 หนวยในแนวคอลัมน ตั้งแตตําแหนงหนวยที่ 0, 1, 2 ไปจนถึงหนวยที่ 𝐶𝐶 แสงนี้จะสะกดใหแมลงวันไม
สามารถขยับตัวออกไปจากแนวลําแสงดังกลาวได และตองบินตรงไปตามแนวแสงเทานั้น
คายกลพิฆาตแมลงวันนี้ยังติดตั้ง “กับดักพิฆาตแมลงวัน” ซึ่งเปนแทงเหล็กที่ปลอยกระแสไฟฟาแรงสูง
โดยเมื่อแมลงวันมาสัมผัสกับแทงเหล็กดังกลาว แมลงวันจะตาย กับดักนี้ไดรับการติดตั้งไวในทุก ๆ แถวของ
คายกล แถวละสองดาน คือ ดานซายและดานขวา กับดักนี้มีความลึก 1 หนวย คือ มีความลึกเต็มแถวพอดี
และกับดักนี้จะเคลื่อนที่ไปดานซายหรือขวาตามแถวที่กับดักนั้นอยูดวยความเร็วเทา ๆ กัน หากกับดักพิฆาต
แมลงวันคูใดวิ่งมาชนกัน กับดักทั้งคูจะกระดอนกลับในทิศทางตรงขาม และหากกับดักใดเคลื่อนไปกระทบ
ขอบซายหรือขอบขวาของคายกลพิฆาตแมลงวัน กับดักนั้นก็จะกระดอนและเคลื่อนที่สะทอนกลับไปอีกทิศทาง
เชนกัน กับดักพิฆาตแมลงวันทั้งหมดจะเคลื่อนที่ดวยความเร็ว 1 หนวยตอ 1 วินาที

1

หมายเหตุ การชนกันของกับดักพิฆาตแมลงวันจากทางซายและทางขวาในแตละแถวแบง 2 กรณี คือ
1. กับดักพิฆาตแมลงวันดานซายอยูในตําแหนงคอลัมนที่ 𝑖𝑖 กําลังเคลื่อนที่ไปทางดานขวา และกับดัก
พิฆาตแมลงวันดานขวาอยูในตําแหนงคอลัมนที่ 𝑖𝑖 + 1 กําลังเคลื่อนที่ไปทางดานซาย การชนกันและ
กระดอนกลับใชเวลา 1 วินาที โดยทําใหกับดักพิฆาตแมลงวันดานซายยังคงอยูในตําแหนงที่ 𝑖𝑖 แตจะ
เคลื่อนที่กระดอนกลับไปทางดานซายในวินาทีถัดไป และกับดักพิฆาตแมลงวันดานขวายังคงอยูใน
ตําแหนงที่ 𝑖𝑖 + 1 และเคลื่อนที่กระดอนกลับไปทางดานขวาในวินาทีถัดไป (ดังแสดงในภาพที่ 1 แถว
4)
2. กับดักพิฆาตแมลงวั นด านซ ายอยู ในตําแหนงที่ 𝑖𝑖 กําลังเคลื่อนที่ ไปทางดานขวา และกับดัก พิ ฆ าต
แมลงวันดานขวาอยูในตําแหนงที่ 𝑖𝑖 เชนกันกําลังเคลื่อนที่ไปทางดานซาย การชนกันและกระดอนกลับ
ใชเวลา 1 วินาที โดยทําใหกับดักพิฆาตแมลงวันดานซายอยูในตําแหนงที่ 𝑖𝑖 − 1 และเคลื่อนที่ยอนไป
ทางดานซายในวินาทีถัดไป สวนกับดักพิฆาตแมลงวันดานขวาอยูในตําแหนงที่ 𝑖𝑖 + 1 และเคลื่อนที่ไป
ทางดานขวาในวินาทีถัดไป (ดังแสดงในภาพที่ 1 แถว 2)
ภาพที่ 1 แสดงถึงคายกลพิฆาตแมลงวันขนาดกวาง 7 หนวย ลึก 5 หนวย (5 แถว) เสนประสีเขียว
แสดงถึงลําแสงสะกดแมลงวันและทิศทางที่แมลงวันสามารถบินไปได (ลําแสงประจําอยู 8 คอลัมน) พื้นที่สีเทา
แสดงถึงกับดักพิฆาตแมลงวัน โดยลูกศรแสดงถึงทิศทางที่กับดักกําลังเคลื่อนที่ ภาพดานซายเปนสถานะเริ่มตน
ของพื้นที่ ณ เวลา 0 วินาที และภาพดานขวาเปนสถานะของพื้นที่ ณ เวลา 1 วินาที

สถานะของคายกล ณ เวลา 0 วินาที

สถานะของคายกล ณ เวลา 1 วินาที

ภาพที่ 1 ตัวอยางคายกลพิฆาตแมลงวันขนาดกวาง 7 หนวย ลึก 5 หนวย

2

หัวหนาแมลงวันตองการหาทางที่จะบินเขาไปยังหาอาหารใหเร็วที่สุด เนื่องจากหัวหนาทราบดีวา สมุน
ตองบินไปตามแนวลําแสงเทานั้น หัวหนาจึงกําหนดกฎในการบินใหกับสมุน ดังนี้
• ณ เวลา 0 วินาที ใหแมลงวันสมุนแตละตัวอยู ณ แถวที่ 0 ซึ่งอยูดานลางนอกคายกลพิฆาตในตําแหนง
ที่ตรงตามแนวลําแสงพอดี ดังแสดงดวยวงกลมสีดําที่มีหมายเลขคอลัมนกํากับอยูในรูปขางตน
• ใหแมลงวันสมุนศึกษาจังหวะและกลไลของคายกลพิฆาตนี้ แลววางแผนการบินไปใหถึงอาหาร ซึ่งอยู
หลังคายกลพิฆาตแมลงวันใหเร็วที่สุด
• ในแตละจุดเริ่มตนของแตละวินาที เริ่มตั้งแตวินาทีที่ 0 สมุนแมลงวันแตละตัวมีทางเลือกเพียงสองทาง
เทานั้นคือ “อยูกับที่” หรือ “บินไปดานบนเปนระยะทาง 1 หนวย ดวยความเร็ว 1 หนวยตอวินาที”
ไปยังแถวถัดไป โดยยังตองอยูในแนวลําแสงเดิมที่เคยอยูเทานั้น หามออกนอกเสนทาง
ตัวอยางการจําลองการบินของแมลงวันสมุนที่อยูประจําคอลัมนที่ 3 ผานคายกลพิฆาตแมลงวันที่มีขนาดกวาง
7 หนวย และลึก 5 หนวย (5 แถว) ที่ใชเวลาในการบินผานคายกลพิฆาตในเวลา 10 วินาที แสดงดังภาพที่ 2
(หมายเหตุ ตั้งแตสถานะของคายกลพิฆาต ณ เวลา 1 วินาที เปนตนไปจะแสดงเฉพาะแมลงวันสมุนในคอลัมน
ที่ 3 เทานั้น)

สถานะของคายกล ณ เวลา 0 วินาที

สถานะของคายกล ณ เวลา 1 วินาที

สถานะของคายกล ณ เวลา 2 วินาที

ภาพที่ 2 การจําลองการบินของแมลงวันสมุน

3

สถานะของคายกล ณ เวลา 3 วินาที

สถานะของคายกล ณ เวลา 4 วินาที

สถานะของคายกล ณ เวลา 5 วินาที

สถานะของคายกล ณ เวลา 6 วินาที

สถานะของคายกล ณ เวลา 7 วินาที

สถานะของคายกล ณ เวลา 8 วินาที

สถานะของคายกล ณ เวลา 9 วินาที

สถานะของคายกล ณ เวลา 10 วินาที

ภาพที่ 2 การจําลองการบินของแมลงวันสมุน (ตอ)
4

จากภาพที่ 2 เปนตัวอยางของการบินของแมลงวันสมุนที่อยูประจําคอลัมนที่ 3 ใชเวลา 10 วินาที
อยางไรก็ตาม ยังมีแมลงวันสมุนที่อยูคอลัมนอื่น (คอลัมนที่ 4) ซึ่งสามารถบินผานคายกลพิฆาตไปยังอาหารโดย
ใชเวลานอยที่สุด เพียง 9 วินาที ดังตัวอยางที่ปรากฏในภาพที่ 3 ดานลาง

สถานะของคายกล ณ เวลา 1 วินาที

สถานะของคายกล ณ เวลา 2 วินาที

สถานะของคายกล ณ เวลา 3 วินาที

สถานะของคายกล ณ เวลา 4 วินาที

สถานะของคายกล ณ เวลา 5 วินาที

สถานะของคายกล ณ เวลา 6 วินาที

สถานะของคายกล ณ เวลา 7 วินาที

สถานะของคายกล ณ เวลา 8 วินาที

สถานะของคายกล ณ เวลา 9 วินาที

ภาพที่ 3 การจําลองการบินของแมลงวันสมุน
เนื่องดวยอาหารอรอยมาก จึงรับประกันวามีแมลงวันสมุนอยางนอย 1 ตัว บินผานคายกลพิฆาตไปยังอาหาร
ได
งานของคุณ จงเขียนโปรแกรมเพื่อคํานวณเวลาที่นอยที่สุด ซึ่งแมลงวันสมุนที่ประจําอยูในคอลัมนใดคอลัมน
หนึ่ง สามารถบินผานคายกลพิฆาตไปยังอาหารได

5

ขอมูลนําเขา
มีจํานวน 𝑁𝑁 บรรทัด ดังนี้
บรรทัดที่ 1
จํานวนเต็ม 2 จํานวน คั่นแตละจํานวนดวยชองวางหนึ่งชอง ประกอบดวย
จํานวนแถว 𝑅𝑅 (1 ≤ 𝑅𝑅 ≤ 2,000) และจํานวนคอลัมน 𝐶𝐶 (1 ≤ 𝐶𝐶 ≤ 2,000)
บรรทัดที่ 2
แตละแถวมีขอมูลนําเขา 4 คา คั่นแตละคาดวยชองวางหนึ่งชอง โดยแสดงตามลําดับ
ถึง 𝑅𝑅 + 1
ดังนี้
𝐴𝐴𝑖𝑖 แทนตําแหนงเริ่มตนของกับดักพิฆาตแมลงวันดานซาย (0 ≤ 𝐴𝐴𝑖𝑖 ≤ 𝐶𝐶𝑖𝑖 )
𝐵𝐵𝑖𝑖 แทนทิศทางเริ่มตนของกับดักพิฆาตแมลงวันดานซาย
𝐶𝐶𝑖𝑖 แทนตําแหนงเริ่มตนของกับดักพิฆาตแมลงวันดานขวา (𝐴𝐴𝑖𝑖 ≤ 𝐶𝐶𝑖𝑖 ≤ 𝐶𝐶)
𝐷𝐷𝑖𝑖 แทนทิศทางเริ่มตนของกับดักพิฆาตแมลงวันดานขวา
โดยที่ 𝐵𝐵ฺ 𝑖𝑖 และ 𝐷𝐷𝑖𝑖 เปนตัวอักขระ R (แทนการเคลื่อนที่ไปทางขวา) หรือ L (แทนการ
เคลื่อนที่ไปทางซาย) เมื่อ 1 ≤ 𝑖𝑖 ≤ 𝑅𝑅
ขอมูลสงออก
มีจํานวน 1 บรรทัด คือ
บรรทัดที่ 1
แสดงเวลาที่แมลงวันบินใหผานคายกลพิฆาตนี้ไปไดเร็วที่สุด โดยไมสัมผัสกับไมพิฆาต
แมลงวัน
ตัวอยางที่ 1
ขอมูลนําเขา

ขอมูลสงออก

57
9
4R4L
1L6R
1R7R
2R7R
1R3R
หมายเหตุ ขอมูลนําเขาของตัวอยางที่ 1 สอดคลองกับภาพที่ 2 สถานะของพื้นที่ ณ เวลา 0 วินาที

6

ตัวอยางที่ 2
ขอมูลนําเขา

ขอมูลสงออก
10

57
2R3L
0L6R
1L7R
2L7R
5L7R
ขอกําหนด

หัวขอ

เงื่อนไข
Standard Input (คียบ อรด)
Standard Output (จอภาพ)
1 วินาที
512 MB
100 คะแนน
โปรแกรมจะตองคอมไพลผาน

ขอมูลนําเขา
ขอมูลสงออก
ระยะเวลาสูงสุดที่ใชในการประมวลผล
หนวยความจําสูงสุดที่ใชในการประมวลผล
คะแนนสูงสุดของโจทย
เงื่อนไขการตรวจใหคะแนนโปรแกรม

ขอกําหนดอื่น ๆ
ผูเขาแขงขันตองระบุชื่อแฟมขอมูลและสวนหัวของโปรแกรมใหสอดคลองกับภาษาและคอมไพเลอรที่ใช ดังนี้
ภาษา C
ภาษา C++
/*
/*
TASK: fly.c
TASK: fly.cpp
LANG: C
LANG: C++
AUTHOR: YourName YourLastName
AUTHOR: YourName YourLastName
CENTER: YourCenter
CENTER: YourCenter
*/
*/
ขอมูลเพิ่มเติมเกี่ยวกับชุดทดสอบ
ขอมูลแนะนําที่เกี่ยวของกับชุดทดสอบ มีดังนี้
ระดับขอมูล
คะแนนสูงสุดที่เปนไป
สําหรับขอมูลขนาด R สําหรับขอมูลขนาด C
ทดสอบ
ไดโดยประมาณ
1
30%
≤ 20
≤ 20
2
70%
≤ 200
≤ 200
3
80%
≤ 1,000
≤ 200
4
100%
≤ 2,000
≤ 2,000
7

เงื่อนไข
-

