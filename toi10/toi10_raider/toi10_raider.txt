ขอสอบแขงขันคอมพิวเตอรโอลิมปกระดับชาติ ครั้ง้้ ที่่่ 10
ณ คณะวิทยาศาสตร มหาวิทยาลัยอุบลราชธานี
ข:อสอบมีทั้งหมด 3 ข:อ 15 หน:า
วันที่ 8 พฤษภาคม 2557 เวลา 9.00 – 12.00 น.

นักลาสมบัติ (TOI Raider)
เมื่ อ ชนเผาต7 อ ยได: ประกอบแผนที่่ ลายแทงสมบั ติิ ส มบูร ณแล: ว จึ งได: ว าจ: า ง ดร.เค ซึ่ ง เปI นอาจารยใน
มหาวิทยาลัยอุบลราชธานี ที่มีีความสามารถในการถอดรหัสความลับเปIนพิเศษ ทั้้งยังเปIนหนึ่งในทีมผู:ประกอบ
แผนที่ลายแทงสมบัติขิ องชนเผาต7อย และมีงานอดิเรกเปIนนักลาสมบัติ ให:ไปตามหาสมบัติขิ องชนเผา
ดร.เค ได:รัับมอบหมายให:เดินทางไปยังถ้ําสมบัติ TOI (Tomb of Informatics) ตามที่ระบุไว:ในแผนที่
ลายแทง เมื่อ ดร.เค เดินทางไปถึงถ้ํําสมบัติิ เขาก็ต::องฉงนงงงวย!!? เมื่อพบวาวิธีีการที่่จะไปยังหีบสมบัติซึ่งวางอยู
ด:านในสุดของถ้ํา จะต:องเดินผานพื้้นกลที่่ชนเผาต7อยในอดีตวางไว:เพื่่่อไมให:นํําหีบสมบัติิิออกจากถ้ํํําไปโดยงาย
พื้นกลประกอบด:วยแผนหินกลรูปหกเหลี่่ยมด:านเทามุมเทา ขนาดเทากันทุกแผน แผนหินกลดังกลาวถูกปูติดกัน
พอดี เปIนจํานวน m แถว และในแตละแถวจะมีแผนหินกล n แผน ซึ่งจัดเรียงแผนหินกลจากแผนที่่ 0 ไปยังแผนที่
n-1 ในแนวจากปากถ้ําไปยังหีบสมบัติิ และมีการเรียงแถวจากแถวที่ 0 ถึงแถวที่ m-1 จากด:านซ:ายมือไปยัง
ด:านขวามือ อยางมีเงื่อนไข คือ แผนหินกลแผนที่่ 0 ของแถวที่มีลําดับซึ่่งเปIนเลขคูจะอยูไกลจากแนวปากถ้ํากวา
แผนหินกลแผนที่ 0 ของแถวเลขคี่เสมอ และดร.เค พบอีกวาปากถ้ํําและหีบสมบัติิอยูในแนวเดียวกันกับแผนหินกล
แถวที่ (m-1)/2 ดังตัวอยางในรูปที่ 1
แผนที่ 0 แผนที่ 1 ... แผนที่ n-1
แผนหินกลแถวที่ (m-1)/2

แถวที่ 0
แถวที่ 1
ปากถ้ํา

หีบสมบัติ
แถวที่ m-1

รูปที่ 1 ตัวอยางแสดงพื้นกล ตําแหนงของปากถ้ํา และหีบสมบัติ เมื่อ m = 5 และ n = 4
การแขงขันคอมพิวเตอรโอลิมปกระดับชาติ ครั้้งที่่ 10
The 10th Thailand Olympiad in Informatics

นักลาสมบัติ (TOI Raider)
หน:า 5/15

ดร.เค ต:องการไปยังหีบสมบัติดังกลาวซึ่งจําเปIนต:องก:าวผานพื้นกล โดยมีเงื่อนไขตอไปนี้
• ต:องเริ่มก:าวจากแผนหินกลแผนที่ 0 ของแถวที่ (m-1)/2 - 1, (m-1)/2 หรือ (m-1)/2 + 1 เทานั้น
• การก:าวลงบนแผนหินกลต:องเหยียบลงบนแผนหินกลทีละแผนเทานั้น
• การก: า วจากแผนหิ นกลแผนหนึ่ ง ไปยั ง อี ก แผนหนึ่ ง ต:อ งก: า วไปยั ง แผนหินกลที่ อ ยูติ ดกั นเทานั้ น โดยไม
อนุญาตให:ย่ําอยูที่เดิม
• แผนหินกลแตละแผน สามารถถูก ดร.เค ก:าวกลับมาเหยียบได:มากกวา 1 ครั้ง
• แผนหินกลแตละแผนมีหมายเลขปลอดภัยซึ่งเปIนจํานวนเต็มตั้งแต 0 ถึง 9 โดยไมอนุญาตให:ก:าวลงบนแผน
หิ นกลที่ มีห มายเลขปลอดภั ยเปI น 0 หรื อ เมื่ อ ดร.เค ก: า วลงแผนหิ นกลนั้ นในการก: า วครั้ ง ที่ yth แล: ว
หมายเลขปลอดภัย x บนแผนหินกล หาร y ไมลงตัว (y ถูกหารด:วย x ไมลงตัว)
• ดร.เค จะสามารถนําหีบสมบัติกลับออกมาจากถ้ําได:ถ:า ก:าวไปถึงแผนหินกลที่ n-1 ของแถวที่ (m-1)/2
รูปที่ 2 แสดงตัวอยาง ลําดับการก:าวไปยังหีบสมบัติของ ดร.เค กรณี m = 5 และ n = 4 ดร.เค สามารถ
เลือกเดินก:าวแรกเหยียบบนแผนหินกลแผนที่ 0 แถวที่ 2 หรือ แถวที่ 3 เทานั้น เนื่องจากแผนที่ 0 ของแถวที่ 1 มี
หมายเลขปลอดภัยเปIน 0 และ ดร.เค จะสามารถไปยังหีบสมบัติได:เมื่อก:าวเดินไปถึงแผนหินกลที่ 3 ของแถวที่ 2
1
0

ปากถ้ํา

1
1

1
1

6
3

1
2

3

1

0
5

0

2

ปากถ้ํา

7

หีบสมบัติ

3

2
5

8

0

1
1

1
1

2

0
7

หีบสมบัติ

3

2
5

8

5

6
3

1

3

2

0

(ก)
(ข)
รูปที่ 2 ตัวอยางการก:าวเดินไปยังหีบสมบัติสองวิธีที่แตกตางกันตามเงื่อนไขที่กําหนด
จากตัวอยางรูป 2(ก) ดร.เค เริ่มก:าวแรกที่แผนหินกลที่ 0 แถวที่ 3 ซึ่งสามารถเดินกาวที่ 2 ตอไปได:เพียง
แผนหิ นกลที่ 0 แถวที่ 2 หรื อ แผนหิ นกลที่ 0 แถวที่ 4 เทานั้ น ไมสามารถก:า วไปยั ง แผนหิ นกลที่ 1 แถวที่ 3
เนื่องจาก หมายเลขปลอดภัยของแผนหินกลดังกลาวคือ 3 และ จํานวน 2 ไมสามารถถูกหารด:วย 3 ลงตัว
จากรูปที่ 2 เห็นได:วา ถ:า ดร.เค ก:าวเดินตามการก:าวเดินดังรูป 2(ก) จะมีจํานวนก:าวเดินทั้งหมด 7 ก:าว
ขณะที่ รูป 2(ข) แสดงอีกวิธีการก:าวเดินไปยังหีบสมบัติอีกหนึ่งวิธี ซึ่งมีจํานวนก:าวเดินทั้งหมดถึง 21 ก:าว
เพื่อเปIนการประหยัดทั้งเวลาและพลังงานของ ดร.เค จึงขอให:ผู:รู:วัยเยาวที่มารวมตัวกันในการแขงขัน
คอมพิวเตอรโอลิมปกระดับชาติ ครั้งที่ 10 ณ มหาวิทยาลัยอุบลราชธานี เขียนโปรแกรมคอมพิวเตอรเพื่อหาจํานวน
กาวที่นอยที่สุดในการก:าวเดินไปบนพื้นกลเพื่อนําหีบสมบัติมาให:ได:
การแขงขันคอมพิวเตอรโอลิมปกระดับชาติ ครั้งที่ 10
The 10th Thailand Olympiad in Informatics

นักลาสมบัติ (TOI Raider)
หน:า 6/15

งานของคุณ
จงเขียนโปรแกรมเพื่อหาจํานวนก:าวที่น:อยที่สุดที่ ดร.เค เดินลงบนพื้นกลที่กําหนดเพื่อนําหีบสมบัติออกมา
จากถ้ํา
ขอมูลนําเขา
มีจํานวน m + 2 บรรทัด ดังนี้
บรรทัดแรก
บรรทัดที่ 2
บรรทัดที่ 3 ถึง
บรรทัดที่ m + 2

มีหนึ่งจํานวน คือ จํานวนเต็ม m แสดงจํานวนแถวของแผนหินกล
เมื่อ 5 ≤ m ≤ 97 และ m หารด:วย 4 แล:วเหลือเศษ 1 เสมอ
มีหนึ่งจํานวน คือ จํานวนเต็ม n แสดงจํานวนแผนหินกลในแตละแถว
เมื่อ 4 ≤ n ≤ 100
แตละบรรทัดมีจํานวนเต็ม n จํานวน แสดงหมายเลขปลอดภัยของแผนหินกลแผนที่
0 ถึงแผนที่ n-1 ในแตละแถว หมายเลขปลอดภัยแตละจํานวน ถูกคั่นด:วยชองวาง
หนึ่งชอง เรียงจากแถวที่ 0 ไปจนถึงแถวที่ m – 1

ขอมูลสงออก
มีเพียงบรรทัดเดียว แสดงจํานวนเต็มบวกหนึ่งจํานวน แทนจํานวนก:าวที่น:อยที่สุดที่เปIนไปได:ในเดินจาก
ปากถ้ําผานพื้นกลไปยังหีบสมบัติ

การแขงขันคอมพิวเตอรโอลิมปกระดับชาติ ครั้งที่ 10
The 10th Thailand Olympiad in Informatics

นักลาสมบัติ (TOI Raider)
หน:า 7/15

ตัวอยางที่ 1
ข:อมูลนําเข:า
5
4
1138
0110
1657
1323
2520

ข:อมูลสงออก
7

ตัวอยางที่ 2
ข:อมูลนําเข:า
5
4
1111
0010
0011
1011
1110

ข:อมูลสงออก
6

ตัวอยางที่ 3
ข:อมูลนําเข:า
5
5
11118
09107
10187
10117
16106

การแขงขันคอมพิวเตอรโอลิมปกระดับชาติ ครั้งที่ 10
The 10th Thailand Olympiad in Informatics

ข:อมูลสงออก
14

นักลาสมบัติ (TOI Raider)
หน:า 8/15

ขอกําหนด
หัวข:อ
ข:อมูลนําเข:า
ข:อมูลสงออก
ระยะเวลาสูงสุดที่ใช:ในการประมวลผล
หนวยความจําสูงที่สุดที่ใช:ประมวลผล
คะแนนสูงสุดของโจทย
เงื่อนไขการรันโปรแกรม
ขอกําหนดอื่นๆ

เงื่อนไข
Standard Input (คียบอรด)
Standard Output (จอภาพ)
1 วินาที ตอหนึ่งชุดทดสอบ
512 MB ตอหนึ่งชุดทดสอบ
100 คะแนน
โปรแกรมจะต:องคอมไพลผาน

ผู:เข:าแขงขันจะต:องระบุชื่อแฟkมข:อมูลและสวนหัวของโปรแกรมให:สอดคล:องกับภาษาที่ใช:ดังนี้
ภาษา C
/*
TASK: raider.c
LANG: C
AUTHOR: YourName YourLastName
CENTER: YourCenter
*/

ภาษา C++
/*
TASK: raider.cpp
LANG: C++
AUTHOR: YourName YourLastName
CENTER: YourCenter
*/

ขอมูลเพิ่มเติมเกี่ยวกับชุดทดสอบ
1. ชุดทดสอบมีคําตอบเสมอ
2. การได:คะแนน 100% ก็ตอเมื่อ โปรแกรมให:คําตอบที่ถูกต:องทุกชุดทดสอบ

การแขงขันคอมพิวเตอรโอลิมปกระดับชาติ ครั้งที่ 10
The 10th Thailand Olympiad in Informatics

นักลาสมบัติ (TOI Raider)
หน:า 9/15

3. เกณฑการให:คะแนนแบบมีเงื่อนไข
กลุมข:อมูล สําหรับข:อมูล
ทดสอบ
ขนาด m

สําหรับข:อมูล
ขนาด n

คําตอบ

คาหมายเลขปลอดภัย

เปIน 0 หรือ 1 เทานั้น 10% โดยจะได:คะแนน ก็
ตอเมื่อ โปรแกรมให:คําตอบ
ที่ถูกต:องทุกชุดทดสอบใน
กลุมที่ 1.
เปIน 0 หรือ 1 เทานั้น 20% โดยจะได:คะแนน ก็
ตอเมื่อ โปรแกรมให:คําตอบ
ที่ถูกต:องทุกชุดทดสอบใน
กลุมที่ 1. และ 2.
เปIน 0 หรือ 1 เทานั้น 30% โดยจะได:คะแนน ก็
ตอเมื่อ โปรแกรมให:คําตอบ
ที่ถูกต:องทุกชุดทดสอบใน
กลุมที่ 1., 2. และ 3.
ตั้งแต 0 ถึง 9
30% โดยจะได:คะแนน ก็
ตอเมื่อ โปรแกรมให:คําตอบ
ที่ถูกต:องทุกชุดทดสอบใน
กลุมที่ 1. และ 4.
ตั้งแต 0 ถึง 9
60% โดยจะได:คะแนน ก็
ตอเมื่อ โปรแกรมให:คําตอบ
ที่ถูกต:องทุกชุดทดสอบใน
กลุมที่ 1., 2., 4. และ 5.
ตั้งแต 0 ถึง 9
จะได:คะแนน ก็ตอเมื่อ
โปรแกรมให:คําตอบที่
ถูกต:องในแตละชุดทดสอบ
ในกลุมที่ 6. และ
จะได:คะแนนรวมสูงสุด
30% ถ:าโปรแกรม
ให:คําตอบที่ถูกต:อง
ทุกชุดทดสอบ

1.

≤ 10

≤ 10

≤ 25

2.

≤ 50

≤ 60

≤ 800

3.

≤ 97

≤ 100

≤ 2000

4.

≤ 25

≤ 10

≤ 25

5

≤ 50

≤ 80

≤ 800

6

≤ 97

≤ 100

≤ 5000

การแขงขันคอมพิวเตอรโอลิมปกระดับชาติ ครั้งที่ 10
The 10th Thailand Olympiad in Informatics

คะแนนสูงสุดที่เปIนไปได:
โดยประมาณ

นักลาสมบัติ (TOI Raider)
หน:า 10/15

