การแข่งข ันคอมพิวเตอร์โอลิมปิ ก สอวน. ครงที
ั้ ่ 3
The POSN Olympiad in Informatics: 2007
ว ันสอบ 2 พฤษภาคม 2550
3. บล็อกเกม (Block Game)
เกมประกอบด้วยบอร์ดและบล็อก กำหนดให้บอร์ดมีขนำดไม่เกิน 5 x 5 และบล็อกมีไม่เกิน 3 ชนิด โดย
บล็อกเท่ำนั้นที่สำมำรถเคลือ่ นย้ำยได้ โดยย้ำยไปทำงด้ำนซ้ำยหรื อด้ำนขวำเท่ำนั้นหำกมีที่ว่ำง ส่วนบอร์ด
ไม่สำมำรถเคลื่อนย้ำยได้ หลังกำรเคลื่อนย้ำย บล็อกใด ๆ ที่ไม่มีบล็อกหรื อบอร์ดรองรับจะตกลงไปทับ
บล็อกหรื อบอร์ดทีอ่ ยูด่ ำ้ นล่ำง หำกมีกลุ่มของบล็อกชนิดเดียวกันตั้งแต่ 2 บล็อกขึ้นไปอยูต่ ิดกัน ไม่ว่ำจะ
เป็ นในแนวตั้งหรื อแนวนอน กลุ่มของบล็อกนั้นจะถูกลบออกไปจำกบอร์ด โดยแต่ละบล็อกที่ถกู ลบจะได้
คะแนน 5 คะแนน และสำหรับแต่ละกำรเคลื่อนย้ำยที่ไม่ถูกต้องจะได้ -5 คะแนน เช่น กำรย้ำยบล็อกไป
ยังตำแหน่งของบอร์ ด กำรย้ำยบล็อกไปยังตำแหน่งที่มีบล็อกอื่นอยู่ กำรย้ำยบล็อกในตำแหน่งที่ไม่มีบล็อก
หรื อกำรพยำยำมย้ำยบอร์ด
ตัวอย่าง
กำหนดตำแหน่งและทิศทำงกำรเคลื่อนย้ำยบล็อกอยูใ่ นรู ป (แถว, สดมภ์, ทิศทำง) โดยนับตำแหน่งแถว
และสดมภ์ของบอร์ดจำกบนลงล่ำง และจำกซ้ำยไปขวำเริ่ มต้นจำกศูนย์ตำมลำดับ และใช้อกั ษร “L” หรื อ
“R” เพื่อแสดงทิศทำงกำรเคลื่อนย้ำยไปทำงซ้ำยหรื อขวำตำมลำดับ
X

X
Y

X

Y

X

(A)

X
<Y

Y
X

(B)
X

X
Y
Y

X

(C)

(D)

->

X

X

(E)

X

(F)

(G)

พิจำรณำภำพ (A) หำกมีคำสั่งให้ยำ้ ยบล็อก (1, 3, L), (0, 1, R) ตำมลำดับ จะได้ผลลัพธ์ดงั ภำพ (B)
ถึง (G) โดยจะได้คะแนนรวม 20 คะแนน จำกกำรลบบล็อกจำนวน 4 บล็อกออกไปจำกบอร์ด
อย่ำงไรก็ตำม พิจำรณำจำกภำพ (A) หำกมีคำสัง่ ให้ยำ้ ยบล็อก (1, 3, R), (0, 1, R) ตำมลำดับ จะ
ได้ผลลัพธ์ดงั ภำพ (H) ถึง (J) ซึ่งไม่สำมำรถย้ำยบล็อกใดๆ ออกไปจำกบอร์ดได้ ในกรณีน้ ีจะได้คะแนน
รวม -5 คะแนน จำกกำรย้ำยบล็อก (1, 3, R) ไปในทิศทำงไม่ถกู ต้อง (ย้ำยบล็อกไปตำแหน่งของบอร์ด)
และหลังจำกย้ำยบล็อก (0, 1, R) ไม่มีบล็อกใดถูกลบออกไปจำกบอร์ด
X

X
Y

X

(H)

Y



>

Y
X

Y

(I)

X

X
Y

Y

(J)

ในข้อมูลทดสอบจะไม่มีกรณีเริ่ มต้นที่มีบล็อกชนิดเดียวกันติดกัน และในระหว่ำงกำรเคลื่อนย้ำยบล็อกจะ
ไม่มกี รณีที่มีกลุ่มของบล็อกชนิดเดียวกันติดกันมำกกว่ำหนึ่งชุดในเวลำเดียวกัน อย่ำงไรก็ตำมหลังจำกลบ
บล็อกออกจำกบอร์ดแล้วอำจมีบล็อกชนิดเดียวกันตกลงมำและทำให้ถูกลบออกต่อไปได้
คาสั่ง
จงเขียนโปรแกรมเพื่อรับข้อมูลโครงสร้ำงบอร์ดและบล็อก และข้อมูลกำรเคลื่อนย้ำยบล็อก จำกนั้น
คำนวณหำคะแนนของกำรย้ำยบล็อก พร้อมทั้งแสดงโครงสร้ำงใหม่ของบอร์ดและบล็อก
ข้อมูลนาเข้า
ข้อมูลนำเข้ำประกอบด้วย 2 ส่วน ดังนี้
ส่วนที่ 1 บรรทัดแรกมีเลขจำนวนเต็มบวกสองจำนวน แต่ละค่ำจะคัน่ ด้วยช่องว่ำงหนึ่งช่องบอก
ขนำดของแถว (m) และ สดมภ์ (n) ของบอร์ดตำมลำดับ
บรรทัดต่อมำ m บรรทัด แสดงโครงสร้ำงของบอร์ดและบล็อก โดยใช้เครื่ องหมำย
“#” แทนบอร์ ด “-” แทนพื้นที่ว่ำง และอักษรตัวใหญ่แทนชนิ ดของบล็อก
สำหรับแต่ละบรรทัด ระหว่ำงสดมภ์จะคัน่ ด้วยช่องว่ำงหนึ่งช่อง
ส่วนที่ 2 เป็ นข้อมูลนำเข้ำต่อจำกส่วนที่หนึ่ง ดังนี้
บรรทัดแรกมีเลขจำนวนเต็มบวก l (1  l  20) บอกจำนวนกำรเคลื่อนย้ำยบล็อก
บรรทัดต่อมำ l บรรทัด แต่ละบรรทัดเป็ นคำสั่งกำรเคลื่อนย้ำยบล็อก ซึ่งประกอบ
ด้วยค่ำ 3 ค่ำ แต่ละค่ำจะคัน่ ด้วยช่องว่ำงหนึ่งช่องดังนี้
ค่ำแรกบอกตำแหน่งแถวจำกบนลงล่ำงเริ่ มต้นจำกศูนย์
ค่ำที่สองบอกตำแหน่งสดมภ์จำกซ้ำยไปขวำเริ่ มต้นจำกศูนย์
ค่ำที่สำมบอกทิศทำงกำรเคลื่อนย้ำย โดย “L” ไปทำงซ้ำย และ “R” ไปทำงขวำ

ข้อมูลส่ งออก
ให้แสดงผลลัพธ์ดงั นี้
บรรทัดแรกแสดงคะแนนรวมกำรเคลื่อนย้ำยบล็อก
บรรทัดต่อมำ m บรรทัด แสดงโครงสร้ำงใหม่ของบอร์ดและบล็อก
ต ัวอย่างที่ 1
ข้อมูลนำเข้ำ

ข้อมูลส่งออก

4 5
# A - - #
# # - B #
# A B # #
# # # # #
2
1 3 L
0 1 R

20
# - - - #
# # - - #
# - - # #
# # # # #

ต ัวอย่างที่ 2
ข้อมูลนำเข้ำ

ข้อมูลส่งออก

5 5
# A – B #
# B - A #
# # - B #
# A B # #
# # # # #
3
0 1 L
0 3 L
0 1 R

20
# - - - #
# B - - #
# # - A #
# - - # #
# # # # #

คาอธิบายต ัวอย่างที่ 2

ภำยหลังจำกคำสั่ง (0,3,L) เมื่อ B ตกลงมำด้ำนล่ำง รู ปของบอร์ดจะเป็ นดังรู ป (K) ด้ำนล่ำง โดยกลุ่มของ
บล็อกชนิดเดียวกันที่อยูต่ ิดกันแสดงเป็ นสี เข้ม บล็อกในกลุ่มดังกล่ำวจะถูกลบไปทั้งหมด จำกนั้นหลัง
คำสัง่ (0,1,R) จะได้ดงั รู ป (L) สุดท้ำยผลลัพธ์จะเป็ นตำมตัวอย่ำง
A
B
A

B
B

(K)

A
B

B
A
A

A

(L)

ข้อจาก ัดของโจทย์

ข้อจำกัดของโจทย์
ชื่อโจทย์
ชื่อแฟ้มข้อมูลนำเข้ำ
ชื่อแฟ้มข้อมูลส่งออก
ข้อจำกัดของกำรใช้เวลำประมวลผลไม่เกิน
กำรใช้หน่วยควำมจำในแต่ละชุดทดสอบไม่เกิน
จำนวนชุดทดสอบ
คะแนนสูงสุดของชุดทดสอบ
คะแนนเต็ม
เงื่อนไขกำรตรวจ

เงื่อนไข
block
Standard input (แป้นพิมพ์)
Standard output(จอภำพ)
2 วินำที
64K
10
10
100

โปรแกรมสำมำรถประมวลผลชุดข้อมูล
ทดสอบแสดงในตัวอย่ำงที่ 1 ได้

่ นห ัวของโปรแกรม
ข้อกาหนดสว
/*
TASK:
block
LANG:
C
AUTHOR: YourName YourLastName
CENTER: YourCenter-ID
*/

